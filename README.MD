Invite Friends: VK Scripts, (Future)Bot and (Future)Service

Invite Friends: скрипты автоматизации инвайтинга и френдинга в социальной сети ВКонтакте.

В будущем планируется создание веб-сервиса, службы Windows и демона *nix - бота с бОльшим набором функций и возможно с бОльшим набором поддерживаемыъ социальных сетей (Facebook, Instagram).

Краткие инструкции:

1. Что это вообще такое, в паре предложений:

Набор скриптов для автоматизации процессов френдинга (приглашений в друзья) и инвайтинга (приглашение друзей в группу/сообщество) в социальной сети ВКонтакте.

Автоматизируют процесс, известный как "приглашение в друзья, а из друзей - в группу (сообщество)".

2. Список функций и возможностей:

- Функция 1: Френдинг - приглашение и добавление в друзья пользователей из заранее подготовленного списка пользователей и добавление членов сообщества из заранее подготовленного списка сообществ.

- Функция 2: Инвайтинг - приглашение из друзей в сообщество, указанное в настройках скрипта.

3. Как каждой функцией из п.2 пользоваться:

Скрипты работают из командной строки: "Win+R -> cmd" или PowerShell для Windows и терминал - xterm, Terminal (MacOS), bash или любой другой - для Linux или MacOS.

Перед работой - Требования и предварительная подготовка:

- Требуется, чтобы был установлен python (проверялось на версии python 3.7 с сайта python.org) и расширения такие как requests и python_anticaptcha.

Расширения устанавливаются из командной строки при уствновленном python-е командами:

> pip install requests

> pip install python_anticaptcha

- Необходимо получить ключ анти-капчи на сайте anti-captcha.com. - TODO: Будет отдельная инструкция.

- Необходимо получить ключи доступа (access token) для VK API для ползователя и сообщества. 

- TODO: Будет отдельная инструкция или можно обратиться к сайту https://dev.vk.com, в частности раздел "Ключи доступа": https://dev.vk.com/ru/api/access-token/getting-started

NB: На текущий момент (15.02.2025) работает следующий способ получения пользовательского ключа доступа (user access token) для VK API:

- Вставить в адресную строку браузера следующую строку:
https://oauth.vk.com/authorize?client_id=51785735&redirect_uri=https://oauth.vk.com/blank.html&display=mobile&scope=friends,groups,offline&response_type=token&v=5.131

- Авторизоваться в VK: по VK ID и/или ввести логин и пароль пользователя, под которым вы хотите продолжить работу

- Предоставить приложению InviteFriendStandalone необходимые запрашиваемые разрешения - обычно происходит автоматически с авторизацией

- В результате произойдет перенаправление на страницу https://oauth.vk.com/blank.html, а строка браузера примет вид:
https://oauth.vk.com/blank.html#access_token=ВАШ_ТОКЕН&expires_in=0&user_id=85102398

Ключ доступа (access_token) находится после параметра "access_token=..." и до начала следующего параметра, то есть до следующего знака амперсанда ("&"). 

- Ключ доступа (access token ) необходимо скопировать из этой строки и вставить в поле USER_ACCESS_TOKEN файла конфигурации invitefriends.conf (см. далее).

Получение ключа доступа для сообщества (community access token):

- Аналогично user access token (см. выше), только первым шагом в адресную строку браузера необходимо вставить строку:

https://oauth.vk.com/authorize?client_id=51785735&group_ids=ID_ВАШЕГО_СООБЩЕСТВА&display=mobile&redirect_uri=https://oauth.vk.com/blank.html&scope=manage,messages&response_type=token&v=5.131

После параметра "group_ids=..." необходимо указать через запятую (в случае нескольких) числовые идентификаторы сообществ (находятся в разделе Управления сообществом -> Основная информация -> Адрес -> Номер сообщества и имеют вид club1234567, указывать только цифры без слова "club"), в которые вы собираетесь приглашать подписчиков.

- Полученный ключ (токен) доступа ("access_token=...") надо скопировать в поле COMMUNITY_ACCESS_TOKEN файла конфигурации invitefriends.conf (см. далее).

- Необходимо заполнить файл конфигурации, а также списки пользователей и сообществ:

- Переименовать или скопировать файл invitefriends.original.conf в файл invitefriends.conf

- Указать ключи доступа для VK API - параметры USER_ACCESS_TOKEN и COMMUNITY_ACCESS_TOKEN

- Указать ключ анти-каптчи в параметре ANTI_CAPTCHA_API_KEY

- Указать APP_ID, если не указан. Получить APP_ID можно при получении ключей доступа к VK API или можно использовать APP_ID приложения InviteFriendStandalone: 51785735

- Указать свой USER_ID пользователя, которому выданы ключи доступа к VK API и под которым вы будете работать со скриптами - обычно это тот пользователь, под которым вы заходите ВКонтакте.

- Для инвайтинга: 

Указать COMMUNITY_ID и COMMUNITY_NAME сообщества в которое вы будете приглашать из друзей.

- Для френдинга:

Необходимо заполнить файлы: 

- users.txt - список пользователей для приглашения в друзья.

- groups.txt - список сообществ, членов которых надо приглашать в друзья. 

ОСНОВНОЕ:

Команды для вызова функций скриптов (сначала нужно, естесственно, перейти в папку со скриптами): 

- Френдинг:

Для любой операционной системы (ОС):

> python friends.py

Для ОС Windows:

> friends.bat

Для ОС Linux и MacOS

> friends.sh

- Инвайтинг:

Для любой ОС:

> python invite.py

Для ОС Windows:

> invite.bat

Для ОС Linux и MacOS

> invite.sh

Помимо запуска скриптов вручную из терминала / командной строки, запуск скриптов можно прописать в шедулер операционной системы (Windows scheduler, cron) и запускать скрипты по расписанию. - TODO: Возможно будет отдельная инструкция.

4. Опционально: как это всё изнутри работает:

Библиотека requests для HTTP-запросов + VK API + python_anticaptcha для обхода капчи.

5. Что бы еще было бы интересно почитать, если бы я сам столкнулся с чужим набором скриптов:

Скрипты написаны для собственных нужд после закрытия проектов VKButton и socialhammer и когда перестал устраивать БроБот (сейчас он тоже не работает).

В планах добавить ещё функции для полноценного бота, возможно - сделать на основе скриптов веб-сервис, службу Windows и демон *nix.

Подробные инструкции: в разработке (TODO)

- Установка

Распаковать архив со скриптами в любую удобную папку.

При желании скрипты могут быть получены из репозитория с помощью системы контроля версий.

- Настройка

Настроить приложение ВК либо использовать существующее

Файл конфигурации

Получить ключ для приложения

Получить ключ для сервиса анти-каптчи

Получить идентификатор сообщества

Получить идентификатор профиля

Заполнить файл конфигурации

- Использование

Инвайтинг

Френдинг

Очистка

- Процессы

- Бизнес-процесс(-ы)

- Воронки

- Примеры использования (Use-cases)

- Результаты:

-- Количество подписчиков

-- Время

-- Деньги

--- Потрачено

--- Получено
